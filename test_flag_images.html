<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›½æ——å›¾ç‰‡æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .language-selector {
            position: relative;
            display: inline-block;
        }
        .lang-btn {
            background: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: inherit;
        }
        .lang-btn .flag-img {
            width: 24px;
            height: 16px;
            object-fit: cover;
            border-radius: 2px;
            vertical-align: middle;
        }
        .lang-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px 0;
            min-width: 150px;
            display: none;
            z-index: 1000;
        }
        .lang-option {
            padding: 10px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .lang-option:hover {
            background: #f0f0f0;
        }
        .lang-option .flag-img {
            width: 20px;
            height: 14px;
            object-fit: cover;
            border-radius: 2px;
            vertical-align: middle;
        }
        .flag-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .flag-item {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .flag-item img {
            width: 40px;
            height: 30px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸ‡ºğŸ‡¸ å›½æ——å›¾ç‰‡æµ‹è¯•é¡µé¢</h1>
    
    <div class="test-section">
        <h2>å›½æ——å›¾ç‰‡æ˜¾ç¤ºæµ‹è¯•</h2>
        <div class="flag-grid">
            <div class="flag-item">
                <img src="flags/en.png" alt="US Flag">
                <div>ğŸ‡ºğŸ‡¸ US</div>
            </div>
            <div class="flag-item">
                <img src="flags/zh-cn.png" alt="CN Flag">
                <div>ğŸ‡¨ğŸ‡³ CN</div>
            </div>
            <div class="flag-item">
                <img src="flags/es.png" alt="ES Flag">
                <div>ğŸ‡ªğŸ‡¸ ES</div>
            </div>
            <div class="flag-item">
                <img src="flags/pt-br.png" alt="BR Flag">
                <div>ğŸ‡§ğŸ‡· BR</div>
            </div>
            <div class="flag-item">
                <img src="flags/fr.png" alt="FR Flag">
                <div>ğŸ‡«ğŸ‡· FR</div>
            </div>
            <div class="flag-item">
                <img src="flags/de.png" alt="DE Flag">
                <div>ğŸ‡©ğŸ‡ª DE</div>
            </div>
            <div class="flag-item">
                <img src="flags/ru.png" alt="RU Flag">
                <div>ğŸ‡·ğŸ‡º RU</div>
            </div>
            <div class="flag-item">
                <img src="flags/ar.png" alt="SA Flag">
                <div>ğŸ‡¸ğŸ‡¦ SA</div>
            </div>
            <div class="flag-item">
                <img src="flags/hi.png" alt="IN Flag">
                <div>ğŸ‡®ğŸ‡³ IN</div>
            </div>
            <div class="flag-item">
                <img src="flags/vi.png" alt="VN Flag">
                <div>ğŸ‡»ğŸ‡³ VN</div>
            </div>
            <div class="flag-item">
                <img src="flags/ja.png" alt="JP Flag">
                <div>ğŸ‡¯ğŸ‡µ JP</div>
            </div>
        </div>
        <p>å¦‚æœä¸Šé¢æ˜¾ç¤ºçš„æ˜¯å›½æ——å›¾ç‰‡ï¼Œè¯´æ˜å›¾ç‰‡åŠ è½½æ­£å¸¸</p>
    </div>
    
    <div class="test-section">
        <h2>è¯­è¨€åˆ‡æ¢å™¨æµ‹è¯•</h2>
        <div class="language-selector">
            <button class="lang-btn" onclick="toggleDropdown()">
                <img src="flags/en.png" alt="US Flag" class="flag-img">
                <span class="code">US</span>
            </button>
            <div class="lang-dropdown" id="langDropdown">
                <div class="lang-option" onclick="selectLang('en', 'flags/en.png', 'US')">
                    <img src="flags/en.png" alt="US Flag" class="flag-img">
                    <span class="code">US</span>
                </div>
                <div class="lang-option" onclick="selectLang('zh-cn', 'flags/zh-cn.png', 'CN')">
                    <img src="flags/zh-cn.png" alt="CN Flag" class="flag-img">
                    <span class="code">CN</span>
                </div>
                <div class="lang-option" onclick="selectLang('es', 'flags/es.png', 'ES')">
                    <img src="flags/es.png" alt="ES Flag" class="flag-img">
                    <span class="code">ES</span>
                </div>
                <div class="lang-option" onclick="selectLang('pt-br', 'flags/pt-br.png', 'BR')">
                    <img src="flags/pt-br.png" alt="BR Flag" class="flag-img">
                    <span class="code">BR</span>
                </div>
                <div class="lang-option" onclick="selectLang('fr', 'flags/fr.png', 'FR')">
                    <img src="flags/fr.png" alt="FR Flag" class="flag-img">
                    <span class="code">FR</span>
                </div>
                <div class="lang-option" onclick="selectLang('de', 'flags/de.png', 'DE')">
                    <img src="flags/de.png" alt="DE Flag" class="flag-img">
                    <span class="code">DE</span>
                </div>
                <div class="lang-option" onclick="selectLang('ru', 'flags/ru.png', 'RU')">
                    <img src="flags/ru.png" alt="RU Flag" class="flag-img">
                    <span class="code">RU</span>
                </div>
                <div class="lang-option" onclick="selectLang('ar', 'flags/ar.png', 'SA')">
                    <img src="flags/ar.png" alt="SA Flag" class="flag-img">
                    <span class="code">SA</span>
                </div>
                <div class="lang-option" onclick="selectLang('hi', 'flags/hi.png', 'IN')">
                    <img src="flags/hi.png" alt="IN Flag" class="flag-img">
                    <span class="code">IN</span>
                </div>
                <div class="lang-option" onclick="selectLang('vi', 'flags/vi.png', 'VN')">
                    <img src="flags/vi.png" alt="VN Flag" class="flag-img">
                    <span class="code">VN</span>
                </div>
                <div class="lang-option" onclick="selectLang('ja', 'flags/ja.png', 'JP')">
                    <img src="flags/ja.png" alt="JP Flag" class="flag-img">
                    <span class="code">JP</span>
                </div>
            </div>
        </div>
        <p>æµ‹è¯•ä¸‹æ‹‰èœå•ä¸­çš„å›½æ——æ˜¾ç¤ºå’Œåˆ‡æ¢åŠŸèƒ½</p>
    </div>
    
    <div class="test-section">
        <h2>æµ‹è¯•ç»“æœ</h2>
        <p><strong>å½“å‰é€‰æ‹©çš„è¯­è¨€:</strong> <span id="current-lang">US</span></p>
        <p><strong>å½“å‰å›½æ——:</strong> <span id="current-flag">flags/en.png</span></p>
    </div>
    
    <script>
        function toggleDropdown() {
            const dropdown = document.getElementById('langDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }
        
        function selectLang(lang, flagSrc, code) {
            const btn = document.querySelector('.lang-btn');
            btn.querySelector('.flag-img').src = flagSrc;
            btn.querySelector('.code').textContent = code;
            document.getElementById('langDropdown').style.display = 'none';
            
            // æ›´æ–°æµ‹è¯•ç»“æœ
            document.getElementById('current-lang').textContent = code;
            document.getElementById('current-flag').textContent = flagSrc;
            
            console.log('é€‰æ‹©è¯­è¨€:', lang, flagSrc, code);
        }
        
        // ç‚¹å‡»å…¶ä»–åœ°æ–¹éšè—ä¸‹æ‹‰èœå•
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.language-selector')) {
                document.getElementById('langDropdown').style.display = 'none';
            }
        });
        
        // æ£€æŸ¥å›¾ç‰‡åŠ è½½çŠ¶æ€
        window.addEventListener('load', function() {
            const images = document.querySelectorAll('img');
            let loadedCount = 0;
            let totalCount = images.length;
            
            images.forEach(img => {
                if (img.complete) {
                    loadedCount++;
                } else {
                    img.addEventListener('load', () => {
                        loadedCount++;
                        if (loadedCount === totalCount) {
                            console.log('æ‰€æœ‰å›½æ——å›¾ç‰‡åŠ è½½å®Œæˆ');
                        }
                    });
                    img.addEventListener('error', () => {
                        console.error('å›¾ç‰‡åŠ è½½å¤±è´¥:', img.src);
                    });
                }
            });
            
            if (loadedCount === totalCount) {
                console.log('æ‰€æœ‰å›½æ——å›¾ç‰‡åŠ è½½å®Œæˆ');
            }
        });
    </script>
</body>
</html> 